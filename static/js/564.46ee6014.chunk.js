"use strict";(self.webpackChunkmy_app_1=self.webpackChunkmy_app_1||[]).push([[564],{4564:function(t,s,e){e.r(s),e.d(s,{default:function(){return F}});var a=e(8683),n=e(5671),r=e(3144),i=e(136),u=e(5716),o=e(2791),p=e(364),l=e(9271),d=e(6070),c="ProfileInfo_content__yh9g6",f="ProfileInfo_avatar__qOZM5",h="ProfileInfo_name__rvoTu",x=e(6029),v=e(184),j=(o.Component,e(885)),m=function(t){var s=(0,o.useState)(!1),e=(0,j.Z)(s,2),a=e[0],n=e[1],r=(0,o.useState)(t.status),i=(0,j.Z)(r,2),u=i[0],p=i[1];(0,o.useEffect)((function(){p(t.status)}),[t.status]);return(0,v.jsxs)("div",{children:[!a&&(0,v.jsx)("div",{children:(0,v.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"My status"})}),a&&(0,v.jsx)("div",{children:(0,v.jsx)("input",{onChange:function(t){p(t.currentTarget.value)},autoFocus:!0,onBlur:function(){n(!1),t.updateStatus(u)},value:u})})]})},g=function(t){return t.profile?(0,v.jsx)("div",{className:c,children:(0,v.jsxs)("div",{children:[(0,v.jsx)("img",{className:f,src:t.profile.photos.large||"http://sun9-20.userapi.com/sun9-86/s/v1/if1/JygeoxXgnUnZyoLLCmkqMUik_vLWURO7Vpdjv_rdMKiR07AtdZ39-6kT-CCry5TKae7FwrV0.jpg?size=200x200&quality=96&crop=0,0,600,600&ava=1",alt:"avatar"}),(0,v.jsx)("p",{className:h,children:t.profile.fullName}),(0,v.jsx)("p",{children:t.profile.aboutMe}),(0,v.jsx)(m,{status:t.status,updateStatus:t.updateStatus})]})}):(0,v.jsx)(x.Z,{})},_=e(2982),P=e(6139),S=e(704),Z="MyPosts_posts__pIU79",y="Post_item__depK4",k="Post_message__VtYXL",C=function(t){return(0,v.jsxs)("div",{className:y,children:[(0,v.jsx)("img",{src:"https://sun1.ufanet.userapi.com/s/v1/ig2/DDlHTZiRFwT5iQx5OD38NeNrcb-5FY3tvGe5vSv5b6ZpzXSg588-xS70zUNZInCA_4wpILdQz6-4kGbgkn74Hzfs.jpg?size=200x200&quality=96&crop=10,15,2133,2133&ava=1",alt:"ava"}),(0,v.jsx)("div",{className:k,children:t.message}),(0,v.jsxs)("div",{children:[t.likes,(0,v.jsx)("span",{children:" \u2764"})]})]})},N=e(5304),b=e(7492),D=(0,N.D)(10),I=o.memo((function(t){var s=(0,_.Z)(t.postsData).reverse().map((function(t){return(0,v.jsx)(C,{message:t.message,likes:t.likesCount})}));return(0,v.jsxs)("div",{className:Z,children:[(0,v.jsx)("h3",{children:"My posts"}),(0,v.jsx)("div",{children:(0,v.jsx)(T,{onSubmit:function(s){t.addPost(s.newPostText)}})}),(0,v.jsx)("div",{className:Z,children:s})]})})),T=(0,S.Z)({form:"profileAddPostForm"})((function(t){return(0,v.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,v.jsx)("div",{children:(0,v.jsx)(P.Z,{component:b.gx,placeholder:"Enter your post",name:"newPostText",validate:[N.C,D]})}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{children:"Add post"})})]})})),w=I,z=(0,p.$j)((function(t){return{postsData:t.profilePage.postsData,newPostText:t.profilePage.newPostText}}),{addPost:d.q2})(w),M=function(t){var s=t.profile,e=t.status,a=t.updateStatus;return(0,v.jsxs)("div",{children:[(0,v.jsx)(g,{profile:s,status:e,updateStatus:a}),(0,v.jsx)(z,{})]})},q=e(1548),A=e(7781),U=function(t){(0,i.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,r.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,v.jsx)(M,(0,a.Z)((0,a.Z)({},this.props),{},{status:this.props.status,updateStatus:this.props.updateStatus}))}}]),e}(o.Component),F=(0,A.qC)((0,p.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{addPost:d.q2,getProfile:d.Ai,getStatus:d.lR,updateStatus:d.Nf}),l.EN,q.D)(U)}}]);
//# sourceMappingURL=564.46ee6014.chunk.js.map